<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:100,300,500,600"> 
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,500,300,100" type="text/css">
	<link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css">
    <link rel="stylesheet" type="text/css" href="styles/pages.css">    

	<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
	<script type="text/javascript" src="scripts/json2.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.easing.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.easypiechart.js"></script>
    <script type="text/javascript" src="scripts/jquery.sparkline.min.js"></script>       
	<script type="text/javascript" src="scripts/jquery.signalR-2.1.2.min.js"></script> 
    <!--script src="http://64sws.symsys.nl/signalr/hubs" type="text/javascript"></script> 
	<script src="http://localhost:4406/signalr/hubs" type="text/javascript"></script--> 
	<!--script src="cordova.js"></script>
	<script src="scripts/program.js"></script-->
	<script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript">
	var _url = 'http://64sws.symsys.nl/signalr';
	var _isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;
	var Valid = null;
	var Person = new Object();
 
    function onLoad() {
	alert('1');
        document.addEventListener("deviceready", onDeviceReady, false);
		$().ready(function () { 
	alert('2');
				var cont = 0;	
				var animation = null;	
				$('#existinguser').hide(); 
				$('#alert').hide();
				
				showWaitingScreen();
    
				$.getScript(_url + "/hubs", function(){
	alert('3');
				    $('#waiting').fadeOut('slow');
				    if($('#home').is(':visible') == false) {
				   	  $.mobile.changePage( "#home", { transition: "slide", reverse: true, changeHash: false });
				    }
				    $.connection.hub.url = _url;  
					Valid = $.connection.valid;  
					 
					if($.connection.hub.__proto__.__proto__ == null) { 
						showErrorScreen();
						return;
					}
					
	alert('4');
					Person = JSON.parse(localStorage.getItem('Person'));
					if(Person != null){
	alert('5');
						$('#username').text(Person.Firstname+' '+Person.Lastname);
						$('#welcometext').text('Welkom terug');
						$('#hometext').html('<i class="fa fa-spinner fa-spin"></i> Bezig met ophalen nieuws items.');
						$('#BtnRegisterNewUser').hide();
					} else {
	alert('6');
						$('#username').text('Nieuwe gebruiker');
						$('#welcometext').text('Welkom');
						$('#hometext').text('U heeft zich nog niet aangemeld met deze telefoon. Om uw gegevens beter te beveiligen kunt u zich aanmelden door hieronder op aanmelden te klikken.');
						$('#BtnRegisterNewUser').show();
					}
	alert('7');
					
					
					 
				});
				/*
				var cont = 0;				
				var animation = setInterval(function(){
					var position =  -1 * (cont*302);
					$('#container2').find('img').css('margin-top', position);
					
					cont++;
					if(cont == 11){
						clearInterval(animation);
					}
				},1000);
				
				*/
	
				$('.CloseApp').click(function(e){ 
					e.preventDefault();
					if(navigator.app != null) { navigator.app.exitApp(); }
				});
		});
		
		function showWaitingScreen() { 
			$('#waiting .bericht').text('Connectie maken naar server'); 
			$('#waiting').show();
		}
		function showErrorScreen() { 
			$('#error').show();
		}
				
		function isValidEmailAddress(emailAddress) {
			var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
			return pattern.test(emailAddress);
		}

		$('#BtnRegisterForm').click(function(e){
			e.preventDefault();
			
			//$('#waiting .bericht').text('Bezig met versturen van de gegevens'); 
			//$('#waiting').show();
			
		});
		
		
    }

    // device APIs are available
    //
    function onDeviceReady() {
        document.addEventListener("pause", onPause, false);
        document.addEventListener("resume", onResume, false);
		document.addEventListener("backbutton", onBackKeyDown, false);
		
    }

    function onPause() {
    }
    function onResume() {
   		setTimeout(function() {
			showConnectionScreen();
        }, 10);
    }

    function onBackKeyDown() {
	
    }
    </script>
</head>
<body onload="onLoad()">
 
<div id="alert" class="alertwindow">
	<div class="question">Op de website van Bol.com probeert iemand in te loggen met u gegevens, klopt dit?</div>
	<div id="container">
		<img src="images/anim.png">
	</div>
	<div id="buttons">
		<a href="#" id="BtnTrue" style="font-size: 45px; margin-right: 10px; font-weight: 300">Ja</a>/
		<a href="#" id="BtnFalse" style="font-size: 22px; margin-left: 10px;">Nee</a>
	</div>
</div>
<div id="waiting" class="waitingwindow">
	<div class="bericht"></div><br />
	<i class="fa fa-spinner fa-spin" style="font-size: 96px"></i>
</div>
<div id="error" class="errorwindow" style="display: none">
	<div>Er is een fout opgetreden met de verbinding</div><br />
	<i class="fa fa-exclamation-triangle" style="font-size: 96px"></i>
</div>










<div data-role="page" id="home">
  <div data-role="header">	    
    <h1 id="username">Gebruiker</h1>
	<h3 id="welcometext">Welkom</h3>
  </div>

  <div data-role="main" class="ui-content">	
  <hr>
    <p id="hometext"></p>  
	<a href="#aanmelden" data-transition="slide" id="BtnRegisterNewUser" data-role="button" data-icon="arrow-r">Aanmelden</a>
  </div>    
   
  <div data-role="footer" data-position="fixed">
  	<div style="background-color: #d9a9ce;"><a href="#home" data-transition="slide">Begin<br /><i class="fa fa-home" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #d29cc6;"><a href="#gegevens" data-transition="slide">Instellingen<br /><i class="fa fa-cogs" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #c586ba;"><a href="#statistieken" data-transition="slide">Statistieken<br /><i class="fa fa-bar-chart" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #ba75b1;"><a href="#" class="CloseApp">Sluiten<br /><i class="fa fa-sign-out" style="font-size: 32px;"></i></a></div>	 
  </div> 
</div> 










<div data-role="page" id="aanmelden">
  <div data-role="header">     
    <h1>Aanmelden</h1>
  </div>

  <div data-role="main" class="ui-content">
	<p>Vul hieronder uw gegevens in en klik op versturen, bent u al eens eerder aangemeld geweest? Ga dan eerst naar <a href="http://www.recheck.nl/" target="_blank">www.recheck.nl</a> om een aanmeldcode op te vragen.</p>
	<div class="bar"></div>
		<div class="registerform">
			<label>Voornaam:</label><input id="firstname1" type="text" maxlength="250" />
			<label>Achternaam:</label><input id="lastname1" type="text" maxlength="250" />
			<label>E-mail adres:</label><input id="email1" type="email" maxlength="250" />
			<br />
			<hr />
			<label style="cursor: pointer"><input id="checkbox1" type="checkbox">Ik heb een aanmeldcode</label> 
			<label>Aanmeldcode:</label><input id="aanmeldcode" maxlength="6" type="text" style="text-align: center;" />
		</div> <br />   
	<a href="#" id="BtnRegisterForm" data-role="button" data-icon="check">Verstuur</a>
  </div> 
  <div data-role="footer" data-position="fixed">
  	<div style="background-color: #d9a9ce; width: 100%"><a href="#home" data-transition="slide">Begin<br /><i class="fa fa-home" style="font-size: 32px;"></i></a></div>	
  </div> 
</div>














<div data-role="page" id="gegevens">
  <div data-role="header">    
    <h1>Account gegevens</h1>
	<h3>Bewerken</h3>
  </div>

  <div data-role="main" class="ui-content">
	<div class="bar"></div>
		<div class="registerform">
			<label>Voornaam:</label><input id="firstname2" type="text" maxlength="250" />
			<label>Achternaam:</label><input id="lastname2" type="text" maxlength="250" />
			<label>E-mail adres:</label><input id="email2" type="email" maxlength="250" />
			<hr /><br />
			<label style="cursor: pointer"><input id="checkbox2" type="checkbox" />Ik wil mijn account opheffen.</label><br />
		</div>
	<a href="#" id="BtnChangeForm" data-role="button" data-icon="arrow-u">Wijzigen</a>
  </div> 
  
  
  <div data-role="footer" data-position="fixed">
  	<div style="background-color: #d9a9ce;"><a href="#home" data-transition="slide" data-direction="reverse">Begin<br /><i class="fa fa-home" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #d29cc6;"><a href="#gegevens" data-transition="slide">Instellingen<br /><i class="fa fa-cogs" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #c586ba;"><a href="#statistieken" data-transition="slide">Statistieken<br /><i class="fa fa-bar-chart" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #ba75b1;"><a href="#" class="CloseApp">Sluiten<br /><i class="fa fa-sign-out" style="font-size: 32px;"></i></a></div>	 
  </div> 
</div>















<div data-role="page" id="statistieken">
  <div data-role="header">    
    <h1>Statistieken</h1>
	  <div data-role="main" class="ui-content">
		<div class="bar"></div>
		<ul id="stats" data-role="listview" data-inset="true"></ul>
	  </div>
  </div>

  <div data-role="main" class="ui-content">
  </div> 
  
  <div data-role="footer" data-position="fixed">
  	<div style="background-color: #d9a9ce;"><a href="#home" data-transition="slide" data-direction="reverse">Begin<br /><i class="fa fa-home" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #d29cc6;"><a href="#gegevens" data-transition="slide" data-direction="reverse">Instellingen<br /><i class="fa fa-cogs" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #c586ba;"><a href="#statistieken" data-transition="slide">Statistieken<br /><i class="fa fa-bar-chart" style="font-size: 32px;"></i></a></div>	
  	<div style="background-color: #ba75b1;"><a href="#" class="CloseApp">Sluiten<br /><i class="fa fa-sign-out" style="font-size: 32px;"></i></a></div>	 
  </div> 
</div>

</body>
</html>